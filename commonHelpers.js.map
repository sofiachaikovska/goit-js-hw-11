{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nhideLoader();\n\nconst options = {\n  captionsData: 'alt',\n  captionsDelay: 250,\n};\nconst lightbox = new SimpleLightbox('.image-card', options);\n\ndocument.querySelector('form').addEventListener('submit', function (event) {\n  event.preventDefault();\n  const searchInput = document.querySelector('input').value.trim();\n\n  if (searchInput === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.',\n    });\n    return;\n  }\n  showLoader();\n  searchImages(searchInput)\n    .then(data => {\n      hideLoader();\n      if (data.hits.length > 0) {\n        displayImages(data.hits);\n        lightbox.refresh();\n      } else {\n        showNoResultsMessage();\n        clearImages();\n      }\n    })\n    .catch(error => {\n      hideLoader();\n      console.error('Error fetching images:', error.message);\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching images. Please try again.',\n      });\n    });\n});\n\nfunction searchImages(query) {\n  const apiKey = '42011600-6d993b5d4f0ba2a9af1a5ffd0';\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&pretty=true`;\n\n  return fetch(apiUrl).then(response => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    return response.json();\n  });\n}\n\nfunction displayImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n\n  const ul = document.createElement('ul');\n  ul.className = 'image-list';\n\n  const imageMarkup = images\n    .map(\n      image => `\n    <li class=\"image-item\">\n      <a href=\"${image.largeImageURL}\" class=\"image-card\">\n        <div class=\"image-container\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        </div>\n        <div class=\"image-info\">\n          <span>Likes: ${image.likes}</span>\n          <span>Views: ${image.views}</span>\n          <span>Comments: ${image.comments}</span>\n          <span>Downloads: ${image.downloads}</span>\n        </div>\n      </a>\n    </li>\n  `\n    )\n    .join('');\n\n  ul.innerHTML = imageMarkup;\n  gallery.appendChild(ul);\n}\n\nfunction clearImages() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n\nfunction showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n}\n\nfunction showNoResultsMessage() {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n"],"names":["hideLoader","options","lightbox","SimpleLightbox","event","searchInput","iziToast","showLoader","searchImages","data","displayImages","showNoResultsMessage","clearImages","error","query","apiUrl","response","images","gallery","ul","imageMarkup","image","loader"],"mappings":"wvBAMAA,IAEA,MAAMC,EAAU,CACd,aAAc,MACd,cAAe,GACjB,EACMC,EAAW,IAAIC,EAAe,cAAeF,CAAO,EAE1D,SAAS,cAAc,MAAM,EAAE,iBAAiB,SAAU,SAAUG,EAAO,CACzEA,EAAM,eAAc,EACpB,MAAMC,EAAc,SAAS,cAAc,OAAO,EAAE,MAAM,OAE1D,GAAIA,IAAgB,GAAI,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CACDC,IACAC,EAAaH,CAAW,EACrB,KAAKI,GAAQ,CACZT,IACIS,EAAK,KAAK,OAAS,GACrBC,EAAcD,EAAK,IAAI,EACvBP,EAAS,QAAO,IAEhBS,IACAC,IAER,CAAK,EACA,MAAMC,GAAS,CACdb,IACA,QAAQ,MAAM,yBAA0Ba,EAAM,OAAO,EACrDP,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4DACjB,CAAO,CACP,CAAK,CACL,CAAC,EAED,SAASE,EAAaM,EAAO,CAE3B,MAAMC,EAAS,qEAA4CD,CAAK,uEAEhE,OAAO,MAAMC,CAAM,EAAE,KAAKC,GAAY,CACpC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASN,EAAcO,EAAQ,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAY,aAEf,MAAMC,EAAcH,EACjB,IACCI,GAAS;AAAA;AAAA,iBAEEA,EAAM,aAAa;AAAA;AAAA,sBAEdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,yBAGnCA,EAAM,KAAK;AAAA,yBACXA,EAAM,KAAK;AAAA,4BACRA,EAAM,QAAQ;AAAA,6BACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAKvC,EACA,KAAK,EAAE,EAEVF,EAAG,UAAYC,EACfF,EAAQ,YAAYC,CAAE,CACxB,CAEA,SAASP,GAAc,CACrB,MAAMM,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CAEA,SAASX,GAAa,CACpB,MAAMe,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACzB,CAEA,SAAStB,GAAa,CACpB,MAAMsB,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MACzB,CAEA,SAASX,GAAuB,CAC9BL,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACN,CAAG,CACH"}