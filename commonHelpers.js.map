{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nhideLoader();\n\ndocument.querySelector('form').addEventListener('submit', function (event) {\n  event.preventDefault();\n  const searchInput = document.querySelector('input').value;\n\n  if (searchInput.trim() !== '') {\n    showLoader();\n    searchImages(searchInput)\n      .then(data => {\n        hideLoader();\n        if (data.hits.length > 0) {\n          displayImages(data.hits);\n          initLightbox();\n        } else {\n          showNoResultsMessage();\n        }\n      })\n      .catch(error => {\n        hideLoader();\n        console.error('Error fetching images:', error.message);\n        iziToast.error({\n          title: 'Error',\n          message: 'An error occurred while fetching images. Please try again.',\n        });\n      });\n  } else {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.',\n    });\n  }\n});\n\nfunction searchImages(query) {\n  const apiKey = '42011600-6d993b5d4f0ba2a9af1a5ffd0';\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&pretty=true`;\n\n  return fetch(apiUrl).then(response => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    return response.json();\n  });\n}\n\nfunction displayImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n\n  images.forEach(image => {\n    const cardContainer = document.createElement('a');\n    cardContainer.href = image.largeImageURL;\n    cardContainer.className = 'image-card';\n\n    const imageContainer = document.createElement('div');\n    imageContainer.className = 'image-container';\n\n    const thumbnail = document.createElement('img');\n    thumbnail.src = image.webformatURL;\n    thumbnail.alt = image.tags;\n    imageContainer.appendChild(thumbnail);\n\n    const infoContainer = document.createElement('div');\n    infoContainer.className = 'image-info';\n\n    const likes = document.createElement('span');\n    likes.textContent = `Likes: ${image.likes}`;\n    infoContainer.appendChild(likes);\n\n    const views = document.createElement('span');\n    views.textContent = `Views: ${image.views}`;\n    infoContainer.appendChild(views);\n\n    const comments = document.createElement('span');\n    comments.textContent = `Comments: ${image.comments}`;\n    infoContainer.appendChild(comments);\n\n    const downloads = document.createElement('span');\n    downloads.textContent = `Downloads: ${image.downloads}`;\n    infoContainer.appendChild(downloads);\n\n    cardContainer.appendChild(imageContainer);\n    cardContainer.appendChild(infoContainer);\n\n    gallery.appendChild(cardContainer);\n  });\n}\n\nfunction initLightbox() {\n  const options = {\n    captionsData: 'alt',\n    captionsDelay: 250,\n  };\n  const lightbox = new SimpleLightbox('.image-card', options);\n  lightbox.refresh();\n}\n\nfunction showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n}\n\nfunction showNoResultsMessage() {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n"],"names":["hideLoader","event","searchInput","showLoader","searchImages","data","displayImages","initLightbox","showNoResultsMessage","error","iziToast","query","apiUrl","response","images","gallery","image","cardContainer","imageContainer","thumbnail","infoContainer","likes","views","comments","downloads","options","SimpleLightbox","loader"],"mappings":"wvBAMAA,IAEA,SAAS,cAAc,MAAM,EAAE,iBAAiB,SAAU,SAAUC,EAAO,CACzEA,EAAM,eAAc,EACpB,MAAMC,EAAc,SAAS,cAAc,OAAO,EAAE,MAEhDA,EAAY,KAAM,IAAK,IACzBC,IACAC,EAAaF,CAAW,EACrB,KAAKG,GAAQ,CACZL,IACIK,EAAK,KAAK,OAAS,GACrBC,EAAcD,EAAK,IAAI,EACvBE,KAEAC,GAEV,CAAO,EACA,MAAMC,GAAS,CACdT,IACA,QAAQ,MAAM,yBAA0BS,EAAM,OAAO,EACrDC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4DACnB,CAAS,CACT,CAAO,GAEHA,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,CAEL,CAAC,EAED,SAASN,EAAaO,EAAO,CAE3B,MAAMC,EAAS,qEAA4CD,CAAK,uEAEhE,OAAO,MAAMC,CAAM,EAAE,KAAKC,GAAY,CACpC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASP,EAAcQ,EAAQ,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpBD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAgB,SAAS,cAAc,GAAG,EAChDA,EAAc,KAAOD,EAAM,cAC3BC,EAAc,UAAY,aAE1B,MAAMC,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,UAAY,kBAE3B,MAAMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,IAAMH,EAAM,aACtBG,EAAU,IAAMH,EAAM,KACtBE,EAAe,YAAYC,CAAS,EAEpC,MAAMC,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,UAAY,aAE1B,MAAMC,EAAQ,SAAS,cAAc,MAAM,EAC3CA,EAAM,YAAc,UAAUL,EAAM,KAAK,GACzCI,EAAc,YAAYC,CAAK,EAE/B,MAAMC,EAAQ,SAAS,cAAc,MAAM,EAC3CA,EAAM,YAAc,UAAUN,EAAM,KAAK,GACzCI,EAAc,YAAYE,CAAK,EAE/B,MAAMC,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,YAAc,aAAaP,EAAM,QAAQ,GAClDI,EAAc,YAAYG,CAAQ,EAElC,MAAMC,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,YAAc,cAAcR,EAAM,SAAS,GACrDI,EAAc,YAAYI,CAAS,EAEnCP,EAAc,YAAYC,CAAc,EACxCD,EAAc,YAAYG,CAAa,EAEvCL,EAAQ,YAAYE,CAAa,CACrC,CAAG,CACH,CAEA,SAASV,GAAe,CACtB,MAAMkB,EAAU,CACd,aAAc,MACd,cAAe,GACnB,EACmB,IAAIC,EAAe,cAAeD,CAAO,EACjD,QAAO,CAClB,CAEA,SAAStB,GAAa,CACpB,MAAMwB,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACzB,CAEA,SAAS3B,GAAa,CACpB,MAAM2B,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MACzB,CAEA,SAASnB,GAAuB,CAC9BE,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACN,CAAG,CACH"}